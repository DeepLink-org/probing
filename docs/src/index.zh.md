---
template: home.html
title: Probing - 分布式 AI 动态性能分析器
description: 专为分布式 AI 工作负载设计的生产级性能分析器。零侵入、SQL 驱动分析、实时内省。
hide: toc
---

<!-- 此内容被 home.html 模板隐藏，但会被搜索索引 -->

# Probing

**Probing** 是一个面向分布式 AI 应用的动态性能分析器。

## 🎯 为什么选择 Probing？

### 传统 Profiler 的痛点

| 问题 | 传统方案 | Probing 方案 |
|------|----------|--------------|
| **需要代码修改** | 添加日志、计时器、装饰器 | ✅ 动态注入，零代码修改 |
| **固定报告格式** | 预设的表格和图表 | ✅ SQL 查询，自定义分析 |
| **需要重启服务** | 必须停止再启动 | ✅ 运行时附加 |
| **学习成本高** | 各工具语法不同 | ✅ 熟悉的 SQL + Python |
| **分布式困难** | 各节点独立分析 | ✅ 跨节点统一视图 |

### 核心技术优势

=== "🔧 动态探针注入"

    基于 ptrace 的专业级代码注入技术：

    - 无需修改目标程序源码
    - 支持 x86_64 和 aarch64 架构
    - 完整的状态保存与恢复机制
    - 生产环境安全可用

=== "📊 SQL 查询引擎"

    基于 Apache DataFusion 构建：

    - 标准 SQL 语法，无需学习新语言
    - 毫秒级查询响应
    - 支持复杂聚合、窗口函数
    - 插件式数据源扩展

=== "🐍 远程 REPL"

    直接在目标进程中执行 Python：

    - 检查任意变量和对象
    - 实时修改运行状态
    - 无需停止训练任务
    - 完整的 Python 环境

=== "🌐 分布式支持"

    原生支持多节点场景：

    - 统一的跨节点查询
    - 自动进程发现
    - 通信延迟分析
    - 集群级性能视图

## 🔄 竞品对比

| 特性 | Probing | py-spy | Perfetto | torch.profiler |
|:-----|:-------:|:------:|:--------:|:--------------:|
| **零侵入** | ✅ | ✅ | ❌ | ❌ |
| **动态注入** | ✅ | ❌ | ❌ | ❌ |
| **SQL 查询** | ✅ | ❌ | ❌ | ❌ |
| **远程 REPL** | ✅ | ❌ | ❌ | ❌ |
| **分布式支持** | ✅ | ❌ | ✅ | ⚠️ |
| **AI 框架集成** | ✅ | ❌ | ⚠️ | ✅ |
| **Web UI** | ✅ | ❌ | ✅ | ✅ |

## 核心特性

- **零侵入** - 无需修改代码即可附加到运行中的进程
- **SQL 分析** - 使用标准 SQL 查询性能数据
- **实时执行** - 在目标进程中运行 Python 代码
- **堆栈分析** - 捕获带有变量值的调用栈
- **分布式支持** - 监控跨多节点的进程

## 快速开始

```bash
# 安装
pip install probing

# 注入到运行中的进程
probing -t <pid> inject

# 查询性能数据
probing -t <pid> query "SELECT * FROM python.torch_trace LIMIT 10"

# 远程 REPL 调试
probing -t <pid> repl
```

## 使用场景

- **训练调试** - 调试训练不稳定和卡住问题
- **内存分析** - 追踪 GPU/CPU 内存使用
- **性能分析** - 识别模型执行中的瓶颈
- **生产监控** - 无需重启即可监控 AI 服务

## 社区

- [GitHub 仓库](https://github.com/DeepLink-org/probing)
- [问题追踪](https://github.com/DeepLink-org/probing/issues)
- [PyPI 包](https://pypi.org/project/probing/)
